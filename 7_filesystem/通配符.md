# 通配符 

通配符是一个字符，它可以用来替代搜索中的任何一类字符，从而大大提高了搜索的灵活性和效率。

通配符常用于 Linux 和其他类 Unix 操作系统的 shell 命令中。shell 是一个提供纯文本用户界面的程序，其主要功能是执行用户输入的命令并显示其结果。

通配符也被用于正则表达式和编程语言中。正则表达式是一种模式匹配系统，它使用根据预先定义的语法规则构建的字符串（即字符序列）来寻找文本中的所需字符串。

通配符或通配卡（ term wildcard or wild card ）这个术语最初用于纸牌游戏，描述一张可以被赋予其持有者所希望的任何价值的卡片。然而，它的用法已经扩散，以至于现在它被用来描述各种领域中的未知或不可预测的因素。

## 通配符 * 

有三种类型的通配符被用于Linux命令。最经常使用的和通常最有用的是星形通配符，它与星号（*）相同。星形通配符是所有通配符中含义最广的，因为它可以代表零个字符、所有单个字符或任何字符串。

举个例子，文件命令提供任何文件系统对象（即文件、目录或链接）的信息，这些对象被作为参数（即输入）提供给它。因为星形通配符代表每一个字符串，它可以作为file的参数来返回指定目录中每一个对象的信息。因此，下面将显示当前目录（即用户当前工作的目录）中每个对象的信息。

```shell
file *
```

如果没有匹配，就会返回一个错误信息，例如 `*`：`*: cannot open (No such file or directory)`。在这个例子中，如果目录是空的，就不可能有匹配的文件。

通配符可以与其他字符结合起来，代表字符串的一部分。例如，为了表示任何具有.jpg文件名扩展名的文件系统对象，*.jpg将被使用。同样，a*将代表所有以小写（即小）字母a开头的对象。

另一个例子是，下面将告诉ls命令（用于列出文件），提供当前目录中所有以.html或.txt为扩展名的文件的名称。

```shell
ls *.html *.txt
```

同样，下面将告诉rm命令（用于删除文件和目录），删除当前目录中名称中含有xxx字符串的所有文件。

```shell
rm *xxx*
```

## 通配符 ？

问号(?)在shell命令中作为通配符使用，正好代表一个字符，它可以是任何一个字符。因此，两个连续的问号将代表任何两个连续的字符，而三个连续的问号将代表任何由三个字符组成的字符串。

例如，下面将返回当前目录中所有对象的数据，这些对象的名称（包括任何扩展名）的长度正好是三个字符。

```shell
file ???
```

而下面将提供所有名称长度为一个、两个或三个字符的对象的数据。

```shell
file ? ?? ???
```



与星形通配符的情况一样，问号通配符可以与其他字符结合使用。例如，下面将提供当前目录中以字母a开头、长度为5个字符的所有对象的信息。

```shell
file a????
```

问号通配符也可以与其他通配符结合使用，并以其他字符分隔。例如，下面将返回当前目录中具有三个字符文件名扩展名的所有文件的列表。

```shell
ls *.???
```

## 通配符 []

shell 命令中的第三种通配符是一对方括号，它可以代表括号中的任何字符。因此，例如，下面将提供当前目录中所有带有x、y和(或)z的对象的信息。

```shell
file *[xyz]*
```

而下面将列出所有扩展名以x、y或z开头的文件。

```shell
ls *.[xyz]*
```

仅仅使用星号和问号通配符就可以获得同样的结果。然而，使用方括号通配符显然更有效率。

当在方括号通配符的两个字符之间使用连字符时，它表示包括这两个字符在内的范围。例如，下面将提供关于当前目录中以a到f中的任何字母开头的所有对象的信息。

```shell
file [a-f]*
```

而下面将提供当前目录中名称至少包括一个数字的每个对象的信息。

```shell
file *[0-9]*
```

使用方括号表示一个范围，可以与它表示一个列表相结合。因此，例如，下面将提供所有文件系统对象的信息，这些对象的名称以a到c的任何字母开头，或者以s或t开头。

```shell
file [a-cst]*
```

同样，也可以指定多组范围。因此，例如，下面将返回所有名称以字母表前三个或最后三个小写字母开头的对象的信息。

```shell
file [a-cx-z]*
```

有时，一连串的方括号通配符会很有用。例如，下面将显示当前目录中由abc和一个三位数组成的所有文件名。

```shell
ls abc[0-9][0-9][0-9]
```

## 其它通配符

`\`（反斜杠）是作为一个 "转义 "字符使用的，即保护一个后续的特殊字符。因此，`\\`搜索的是反斜杠。注意你可能需要使用引号和反斜杠（es）。

`^` (脱字符号)表示 "一行的开始"。所以"^a "意味着找到以 "a "开头的行。

`$`（美元符号）表示 "行的结束"。所以 "a$"意味着找到以 "a "结尾的行。

例如，这个命令在文件myfile中搜索以 "s "开头、以 "n "结尾的行，并将其打印到标准输出（屏幕）。

```shell
cat myfile | grep '^s.*n$'
```

